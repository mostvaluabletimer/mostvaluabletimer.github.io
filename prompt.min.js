let deferredPrompt,a2hsBtn=document.getElementById("a2hsbtn");function showAddToHomeScreen(){a2hsBtn.style.display="block",a2hsBtn.addEventListener("click",addToHomeScreen)}function addToHomeScreen(){deferredPrompt.prompt(),deferredPrompt.userChoice.then(function(e){"accepted"===e.outcome?console.log("User accepted the A2HS prompt"):console.log("User dismissed the A2HS prompt"),deferredPrompt=null})}function displayNotification(e,o,t){"granted"==Notification.permission&&navigator.serviceWorker.getRegistration().then(function(i){var n={body:o,icon:t,vibrate:[100,50,100],data:{dateOfArrival:Date.now(),primaryKey:1}};i.showNotification(e,n)})}window.addEventListener("beforeinstallprompt",function(e){e.preventDefault(),deferredPrompt=e,showAddToHomeScreen()}),"Notification"in window&&navigator.serviceWorker&&("denied"===Notification.permission&&"default"!==Notification.permission||Notification.requestPermission(function(e){console.log("Notification permission status:",e)}));
